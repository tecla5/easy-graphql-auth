(function(y,z){'object'==typeof exports&&'object'==typeof module?module.exports=z():'function'==typeof define&&define.amd?define([],z):'object'==typeof exports?exports.apolloConn=z():y.apolloConn=z()})(this,function(){return function(x){function y(A){if(z[A])return z[A].exports;var B=z[A]={i:A,l:!1,exports:{}};return x[A].call(B.exports,B,B.exports,y),B.l=!0,B.exports}var z={};return y.m=x,y.c=z,y.i=function(A){return A},y.d=function(A,B,C){y.o(A,B)||Object.defineProperty(A,B,{configurable:!1,enumerable:!0,get:C})},y.n=function(A){var B=A&&A.__esModule?function(){return A['default']}:function(){return A};return y.d(B,'a',B),B},y.o=function(A,B){return Object.prototype.hasOwnProperty.call(A,B)},y.p='',y(y.s=2)}([function(x,y,z){'use strict';function A(I){return function(){var J=I.apply(this,arguments);return new Promise(function(K,L){function M(N,O){try{var P=J[N](O),Q=P.value}catch(R){return void L(R)}return P.done?void K(Q):Promise.resolve(Q).then(function(R){M('next',R)},function(R){M('throw',R)})}return M('next')})}}function B(I,J){if(!(I instanceof J))throw new TypeError('Cannot call a class as a function')}function C(I,J){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:I}function D(I,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);I.prototype=Object.create(J&&J.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(I,J):I.__proto__=J)}Object.defineProperty(y,'__esModule',{value:!0}),y.LokkaAuthConnection=void 0;var F=function(){function I(J,K){for(var M,L=0;L<K.length;L++)M=K[L],M.enumerable=M.enumerable||!1,M.configurable=!0,'value'in M&&(M.writable=!0),Object.defineProperty(J,M.key,M)}return function(J,K,L){return K&&I(J.prototype,K),L&&I(J,L),J}}();y.createConnection=function(I,J){return new H(I,J).connect()};var G=z(1),H=y.LokkaAuthConnection=function(I){function J(){var K=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};B(this,J);var M=C(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,K,L));return M.Lokka=K.Lokka||L.Lokka,M.Transport=K.Transport||L.Transport,M.createClient=K.createClient||L.createClient||M.createClient,M.createTransport=K.createTransport||L.createTransport||M.createTransport,L.bind&&(M.createClient.bind(M),M.createTransport.bind(M)),M.name='LokkaAuthConnection',M}return D(J,I),F(J,[{key:'doQuery',value:function(){var L=A(regeneratorRuntime.mark(function M(N){return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,this.client.query(N);case 2:return Q.abrupt('return',Q.sent);case 3:case'end':return Q.stop();}},M,this)}));return function(){return L.apply(this,arguments)}}()},{key:'headers',value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,M=this.authToken||L;return M?createAuthHeader(M):this.defaultHeaders}},{key:'createAuthHeader',value:function(L){return{Authorization:'Bearer '+L}}},{key:'connect',value:function(L){var M,N=this.endpoint,O=this.headers(L)||{};return this.transport=M=this.createTransport({headers:O,endpoint:this.endpoint}),this.client=this.createClient(M),this}},{key:'setJwtToken',value:function(L){1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.connect(L)}},{key:'createClient',value:function(L){return new this.Lokka({transport:L||this.transport})}},{key:'createTransport',value:function(L){var M=L.headers,N=L.endpoint;return N=N||this.endpoint,M=M||this.headers,N||this.configError('missing endpoint'),M||this.configError('missing headers'),new this.Transport(N,{headers:M})}}]),J}(G.GraphQLConnection)},function(x,y,z){'use strict';(function(A){var B,C,D,E='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&'function'==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?'symbol':typeof F};(function(F,G){'object'==E(y)&&'object'==E(A)?A.exports=G():(C=[],B=G,D='function'==typeof B?B.apply(y,C):B,!(D!==void 0&&(A.exports=D)))})(void 0,function(){return function(F){function G(I){if(H[I])return H[I].exports;var J=H[I]={i:I,l:!1,exports:{}};return F[I].call(J.exports,J,J.exports,G),J.l=!0,J.exports}var H={};return G.m=F,G.c=H,G.i=function(I){return I},G.d=function(I,J,K){G.o(I,J)||Object.defineProperty(I,J,{configurable:!1,enumerable:!0,get:K})},G.n=function(I){var J=I&&I.__esModule?function(){return I['default']}:function(){return I};return G.d(J,'a',J),J},G.o=function(I,J){return Object.prototype.hasOwnProperty.call(I,J)},G.p='',G(G.s=1)}([function(F,G,H){'use strict';function I(P){return function(){var Q=P.apply(this,arguments);return new Promise(function(R,S){function T(U,ca){try{var da=Q[U](ca),ea=da.value}catch(fa){return void S(fa)}return da.done?void R(ea):Promise.resolve(ea).then(function(fa){T('next',fa)},function(fa){T('throw',fa)})}return T('next')})}}function J(P,Q){if(!(P instanceof Q))throw new TypeError('Cannot call a class as a function')}function K(P,Q){if(!P)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Q&&('object'==('undefined'==typeof Q?'undefined':E(Q))||'function'==typeof Q)?Q:P}function L(P,Q){if('function'!=typeof Q&&null!==Q)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof Q?'undefined':E(Q)));P.prototype=Object.create(Q&&Q.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(P,Q):P.__proto__=Q)}Object.defineProperty(G,'__esModule',{value:!0}),G.GraphQLAuth=void 0;var M=function(){function P(Q,R){for(var S,T=0;T<R.length;T++)S=R[T],S.enumerable=S.enumerable||!1,S.configurable=!0,'value'in S&&(S.writable=!0),Object.defineProperty(Q,S.key,S)}return function(Q,R,S){return R&&P(Q.prototype,R),S&&P(Q,S),Q}}();G.createGraphQLAuth=function(P){return new O(P)};var N=H(2),O=G.GraphQLAuth=function(P){function Q(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};J(this,Q);var T=K(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,R,S));return T.connection=T.connection||R.connection,S.createConnection&&(T.connection=S.createConnection(R,S)),T.validateConfig(),T}return L(Q,P),M(Q,[{key:'validateConfig',value:function(){this.connection||this.configError('missing GraphQL connection in configuration')}},{key:'extractSignedInUserToken',value:function(S){return S.data.signinUser.token}},{key:'setGraphQLServerToken',value:function(S){return this.store.setItem(this.gqlServerTokenKeyName,S),this.publish('storedGraphQLServerToken',{signinToken:S}),this}},{key:'signin',value:function(){var R=I(regeneratorRuntime.mark(function S(T){var U,ca,da,ea,fa;return regeneratorRuntime.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:return U=T.authToken,ca=T.profile,this.log('Signing into GraphQL server'),ga.next=4,this.doCreateUser(T);case 4:return da=ga.sent,ga.next=7,this.doSigninUser(T);case 7:ea=ga.sent,fa=this.extractSignedInUserToken(ea),this.handleReceivedGraphQLServerToken(fa);case 10:case'end':return ga.stop();}},S,this)}));return function(){return R.apply(this,arguments)}}()},{key:'handleReceivedGraphQLServerToken',value:function(S){this.publish('receivedGraphQLServerToken',{signinToken:S}),this.setGraphQLServerToken(S),this.setJwtToken(S)}},{key:'setJwtToken',value:function(S){this.connection?(this.connection.setJwtToken(S,this.opts),this.publish('setJwtToken',{signinToken:S})):this.error('missing connection for setting JWT token')}},{key:'handleQueryError',value:function(S){S.graphQLErrors&&S.graphQLErrors[0].code===errorCode.USER_ALREADY_EXISTS||this.handleError(S)}},{key:'buildUserData',value:function(S){var T=S.authToken,U=S.profile;return{variables:{authToken:T,name:U.name}}}},{key:'doCreateUser',value:function(){var R=I(regeneratorRuntime.mark(function S(T){var U,ca,da,ea;return regeneratorRuntime.wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:if(U=T.authToken,ca=T.profile,fa.prev=1,this.log('Create user',name),da=this.buildUserData(T),!this.queries.createUser){fa.next=12;break}return fa.next=7,this.doQuery({query:this.queries.createUser(da)});case 7:return ea=fa.sent,publish('createdUserOK',{authToken:U,userData:da,profile:ca,result:ea}),fa.abrupt('return',ea);case 12:return this.log('missing createUser query, faking it'),fa.next=15,this.fakeCreateUser(da);case 15:fa.next=21;break;case 17:fa.prev=17,fa.t0=fa['catch'](1),publish('createUserFailure',{authToken:U,userData:userData,profile:ca,result:result,error:fa.t0}),this.handleQueryError(err);case 21:case'end':return fa.stop();}},S,this,[[1,17]])}));return function(){return R.apply(this,arguments)}}()},{key:'doQuery',value:function(){var R=I(regeneratorRuntime.mark(function S(T){var U=T.query;return regeneratorRuntime.wrap(function(ca){for(;;)switch(ca.prev=ca.next){case 0:return ca.next=2,this.connection.doQuery(U,opts);case 2:return ca.abrupt('return',ca.sent);case 3:case'end':return ca.stop();}},S,this)}));return function(){return R.apply(this,arguments)}}()},{key:'fakeCreateUser',value:function(S){return S}},{key:'buildSigninUserData',value:function(S){var T=S.authToken,U=S.profile;return{variables:{authToken:T}}}},{key:'doSigninUser',value:function(){var R=I(regeneratorRuntime.mark(function S(T){var U,ca,da,ea;return regeneratorRuntime.wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:if(U=T.authToken,ca=T.profile,this.log('signin user',T),this.queries.signinUser){fa.next=4;break}return fa.abrupt('return',this.fakeSigninUser(ca));case 4:return da=this.buildSigninUserData(T),fa.prev=5,fa.next=8,this.doQuery({query:this.queries.signinUser(da)});case 8:return ea=fa.sent,this.publish('signedInOK',{authToken:U,profile:ca,userData:da,result:ea}),fa.abrupt('return',ea);case 13:fa.prev=13,fa.t0=fa['catch'](5),this.publish('signedInFailure',{authToken:U,profile:ca,userData:da,error:fa.t0}),this.handleQueryError(fa.t0);case 17:case'end':return fa.stop();}},S,this,[[5,13]])}));return function(){return R.apply(this,arguments)}}()},{key:'fakeSigninUser',value:function(){return this.log('returning fake signedinUser'),{data:{signinUser:{token:'1234'}}}}},{key:'gqlServerTokenKeyName',get:function(){return this.store.gqlServerTokenKeyName}}]),Q}(N.GraphQLConnection)},function(F,G,H){'use strict';Object.defineProperty(G,'__esModule',{value:!0});var I=H(0);Object.defineProperty(G,'GraphQLAuth',{enumerable:!0,get:function(){return I.GraphQLAuth}})},function(F,G,H){'use strict';(function(I){var J,K,L,M='function'==typeof Symbol&&'symbol'==E(Symbol.iterator)?function(N){return'undefined'==typeof N?'undefined':E(N)}:function(N){return N&&'function'==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?'symbol':'undefined'==typeof N?'undefined':E(N)};(function(N,O){'object'==M(G)&&'object'==M(I)?I.exports=O():(K=[],J=O,L='function'==typeof J?J.apply(G,K):J,!(void 0!==L&&(I.exports=L)))})(void 0,function(){return function(N){function O(Q){if(P[Q])return P[Q].exports;var R=P[Q]={i:Q,l:!1,exports:{}};return N[Q].call(R.exports,R,R.exports,O),R.l=!0,R.exports}var P={};return O.m=N,O.c=P,O.i=function(Q){return Q},O.d=function(Q,R,S){O.o(Q,R)||Object.defineProperty(Q,R,{configurable:!1,enumerable:!0,get:S})},O.n=function(Q){var R=Q&&Q.__esModule?function(){return Q['default']}:function(){return Q};return O.d(R,'a',R),R},O.o=function(Q,R){return Object.prototype.hasOwnProperty.call(Q,R)},O.p='',O(O.s=2)}([function(N,O,P){'use strict';function Q(ea,fa){if(!(ea instanceof fa))throw new TypeError('Cannot call a class as a function')}function R(ea,fa){if(!ea)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return fa&&('object'==('undefined'==typeof fa?'undefined':M(fa))||'function'==typeof fa)?fa:ea}function S(ea,fa){if('function'!=typeof fa&&null!==fa)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof fa?'undefined':M(fa)));ea.prototype=Object.create(fa&&fa.prototype,{constructor:{value:ea,enumerable:!1,writable:!0,configurable:!0}}),fa&&(Object.setPrototypeOf?Object.setPrototypeOf(ea,fa):ea.__proto__=fa)}Object.defineProperty(O,'__esModule',{value:!0}),O.GraphQLConnection=void 0;var T='function'==typeof Symbol&&'symbol'==M(Symbol.iterator)?function(ea){return'undefined'==typeof ea?'undefined':M(ea)}:function(ea){return ea&&'function'==typeof Symbol&&ea.constructor===Symbol&&ea!==Symbol.prototype?'symbol':'undefined'==typeof ea?'undefined':M(ea)},U=function(){function ea(fa,ga){for(var ha,ia=0;ia<ga.length;ia++)ha=ga[ia],ha.enumerable=ha.enumerable||!1,ha.configurable=!0,'value'in ha&&(ha.writable=!0),Object.defineProperty(fa,ha.key,ha)}return function(fa,ga,ha){return ga&&ea(fa.prototype,ga),ha&&ea(fa,ha),fa}}(),ca=P(1),da=O.GraphQLConnection=function(ea){function fa(){var ga=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},ha=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Q(this,fa);var ia=R(this,(fa.__proto__||Object.getPrototypeOf(fa)).call(this,ga,ha)),ja=ga.gqlServer;return ja.endpoint=ja.endpoint||ja.connection.uri,ia.config.gqlServer=ja,ia.validateConnection(),ia}return S(fa,ea),U(fa,[{key:'validateConnection',value:function(){'object'!==T(this.store)&&this.configError('missing store for holding signinToken from GraphQL server'),'object'!==T(this.keyNames)&&this.configError('missing keyNames object, used to indicate store token keys')}},{key:'setJwtToken',value:function(ha){1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},this.log('setJwtToken not yet implemented on GraphQL server Connection :(',{signinToken:ha})}},{key:'defaultHeaders',get:function(){return null}},{key:'authTokenKeyName',get:function(){return this.keyNames.gqlServerTokenKeyName}},{key:'authToken',get:function(){return this.store.getItem(this.authTokenKeyName)||null}}]),fa}(ca.Configurable)},function(N){(function(O,P){N.exports=P()})(this,function(){return function(O){function P(R){if(Q[R])return Q[R].exports;var S=Q[R]={i:R,l:!1,exports:{}};return O[R].call(S.exports,S,S.exports,P),S.l=!0,S.exports}var Q={};return P.m=O,P.c=Q,P.i=function(R){return R},P.d=function(R,S,T){P.o(R,S)||Object.defineProperty(R,S,{configurable:!1,enumerable:!0,get:T})},P.n=function(R){var S=R&&R.__esModule?function(){return R['default']}:function(){return R};return P.d(S,'a',S),S},P.o=function(R,S){return Object.prototype.hasOwnProperty.call(R,S)},P.p='',P(P.s=4)}([function(O,P){'use strict';Object.defineProperty(P,'__esModule',{value:!0}),P.default={auth0IdTokenKeyName:'auth0Token',gqlServerTokenStorageKey:'graphCoolToken'}},function(O,P,Q){'use strict';function R(ea,fa){if(!(ea instanceof fa))throw new TypeError('Cannot call a class as a function')}function S(ea,fa){if(!ea)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return fa&&('object'==('undefined'==typeof fa?'undefined':M(fa))||'function'==typeof fa)?fa:ea}function T(ea,fa){if('function'!=typeof fa&&null!==fa)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof fa?'undefined':M(fa)));ea.prototype=Object.create(fa&&fa.prototype,{constructor:{value:ea,enumerable:!1,writable:!0,configurable:!0}}),fa&&(Object.setPrototypeOf?Object.setPrototypeOf(ea,fa):ea.__proto__=fa)}Object.defineProperty(P,'__esModule',{value:!0}),P.Store=void 0;var U=function(){function ea(fa,ga){for(var ha,ia=0;ia<ga.length;ia++)ha=ga[ia],ha.enumerable=ha.enumerable||!1,ha.configurable=!0,'value'in ha&&(ha.writable=!0),Object.defineProperty(fa,ha.key,ha)}return function(fa,ga,ha){return ga&&ea(fa.prototype,ga),ha&&ea(fa,ha),fa}}();P.createStore=function(ea){var fa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new da(ea,fa)};var ca=Q(2),da=P.Store=function(ea){function fa(ga){var ha=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R(this,fa);var ia=S(this,(fa.__proto__||Object.getPrototypeOf(fa)).call(this,'Store',ha));return ia.log('create',{keyNames:ga,opts:ha}),ia.keyNames=ga.storage||ga,ia.storage=ha.storage||ha.keyStore||window.localStorage,ia.auth0IdTokenKeyName=ia.keyNames.auth0IdTokenKeyName,ia.gqlServerTokenKeyName=ia.keyNames.gqlServerTokenKeyName,ia}return T(fa,ea),U(fa,[{key:'removeItem',value:function(ha){this.storage.removeItem(ha)}},{key:'getItem',value:function(ha){return this.storage.getItem(ha)}},{key:'setItem',value:function(ha,ia){this.storage.setItem(ha,ia)}},{key:'validateKeyNames',value:function(){for(var ha=this,ia=arguments.length,ja=Array(ia),ka=0;ka<ia;ka++)ja[ka]=arguments[ka];ja.map(function(la){return ha.validateKeyName(la)})}},{key:'validateKeyName',value:function(ha){return'string'!=typeof this.keyNames[ha]&&this.error('keyNames missing '+ha),this}},{key:'error',value:function(ha){console.error(ha)}},{key:'resetAll',value:function(){this.removeItem(this.auth0TokenKeyName),this.removeItem(this.gqlServerTokenKeyName)}},{key:'getAll',value:function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{auth0Token:this.getItem(this.auth0IdTokenKeyName),gqlServerToken:this.getItem(this.gqlServerTokenKeyName)}}},{key:'store',value:function(ha,ia){if(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},0>this.keyNames.indexOf(ha))throw Error('keyname mismatch for store: '+ha);this.setItem(ha,ia)}}]),fa}(ca.Loggable)},function(O,P){'use strict';function Q(T,U){if(!(T instanceof U))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(P,'__esModule',{value:!0});var R=function(){function T(U,ca){for(var da,ea=0;ea<ca.length;ea++)da=ca[ea],da.enumerable=da.enumerable||!1,da.configurable=!0,'value'in da&&(da.writable=!0),Object.defineProperty(U,da.key,da)}return function(U,ca,da){return ca&&T(U.prototype,ca),da&&T(U,da),U}}(),S=P.Loggable=function(){function T(U){var ca=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Q(this,T),this.io=ca.io||console,this.logging=ca.logging,this.name=U||ca.name}return R(T,[{key:'enableLog',value:function(){return this.logging=!0,this}},{key:'disableLog',value:function(){return this.logging=!1,this}},{key:'log',value:function(){if(this.logging){for(var ca,da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];(ca=this.io).log.apply(ca,[this.name].concat(ea))}}},{key:'error',value:function(){if(this.logging){for(var ca,da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];(ca=this.io).error.apply(ca,[this.name].concat(ea))}}}]),T}()},function(O,P,Q){'use strict';function R(ia,ja){if(!(ia instanceof ja))throw new TypeError('Cannot call a class as a function')}function S(ia,ja){if(!ia)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ja&&('object'==('undefined'==typeof ja?'undefined':M(ja))||'function'==typeof ja)?ja:ia}function T(ia,ja){if('function'!=typeof ja&&null!==ja)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof ja?'undefined':M(ja)));ia.prototype=Object.create(ja&&ja.prototype,{constructor:{value:ia,enumerable:!1,writable:!0,configurable:!0}}),ja&&(Object.setPrototypeOf?Object.setPrototypeOf(ia,ja):ia.__proto__=ja)}Object.defineProperty(P,'__esModule',{value:!0}),P.Configurable=void 0;var U='function'==typeof Symbol&&'symbol'==M(Symbol.iterator)?function(ia){return'undefined'==typeof ia?'undefined':M(ia)}:function(ia){return ia&&'function'==typeof Symbol&&ia.constructor===Symbol&&ia!==Symbol.prototype?'symbol':'undefined'==typeof ia?'undefined':M(ia)},ca=function(){function ia(ja,ka){for(var la,ma=0;ma<ka.length;ma++)la=ka[ma],la.enumerable=la.enumerable||!1,la.configurable=!0,'value'in la&&(la.writable=!0),Object.defineProperty(ja,la.key,la)}return function(ja,ka,la){return ka&&ia(ja.prototype,ka),la&&ia(ja,la),ja}}(),da=Q(0),ea=function(ia){return ia&&ia.__esModule?ia:{default:ia}}(da),fa=Q(2),ga=Q(1),ha=P.Configurable=function(ia){function ja(){var ka=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},la=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R(this,ja);var ma=S(this,(ja.__proto__||Object.getPrototypeOf(ja)).call(this,'Configurable',la));ma.validate(ka);var na=ka.keyNames,oa=ka.store,pa=ka.storage;return ma.config=ka,ma.observers={},ma.config=ka,ma.storage=pa,ma.keyNames=na||pa||ea.default,ma.store=oa||ma.defaultCreateStore(ma.keyNames,la),ma.tokens=ma.store.getAll(),ma.tokens=ma.store?ma.store.getAll():ka.tokens,ma}return T(ja,ia),ca(ja,[{key:'configError',value:function(la){throw this.error(la),Error(la)}},{key:'on',value:function(la,ma){this.log('on',la,ma);var na=this.observers[la]||[];return this.observers[la]=na.concat(ma),this}},{key:'publish',value:function(la,ma){this.log('publish',la,ma);var na=this.observers[la]||[];return na?na.map(function(oa){return oa(ma)}):this.log('no observers registered for',la),this}},{key:'handleError',value:function(la){throw this.error(la),la}},{key:'defaultCreateStore',value:function(la,ma){return new ga.Store(la,ma)}},{key:'validate',value:function(la){if('object'!==('undefined'==typeof la?'undefined':U(la)))throw Error('config must be an object')}}]),ja}(fa.Loggable)},function(O,P,Q){'use strict';Object.defineProperty(P,'__esModule',{value:!0});var R=Q(3);Object.defineProperty(P,'Configurable',{enumerable:!0,get:function(){return R.Configurable}});var S=Q(0);Object.defineProperty(P,'keyNames',{enumerable:!0,get:function(){return S.keyNames}});var T=Q(1);Object.defineProperty(P,'Store',{enumerable:!0,get:function(){return T.Store}}),Object.defineProperty(P,'createStore',{enumerable:!0,get:function(){return T.createStore}})}])})},function(N,O,P){'use strict';Object.defineProperty(O,'__esModule',{value:!0});var Q=P(0);Object.defineProperty(O,'GraphQLConnection',{enumerable:!0,get:function(){return Q.GraphQLConnection}})}])})}).call(G,H(3)(F))},function(F){F.exports=function(G){return G.webpackPolyfill||(G.deprecate=function(){},G.paths=[],!G.children&&(G.children=[]),Object.defineProperty(G,'loaded',{enumerable:!0,get:function(){return G.l}}),Object.defineProperty(G,'id',{enumerable:!0,get:function(){return G.i}}),G.webpackPolyfill=1),G}}])})}).call(y,z(3)(x))},function(x,y,z){'use strict';Object.defineProperty(y,'__esModule',{value:!0});var A=z(0);Object.defineProperty(y,'Connection',{enumerable:!0,get:function(){return A.LokkaAuthConnection}}),Object.defineProperty(y,'createConnection',{enumerable:!0,get:function(){return A.createConnection}})},function(x){x.exports=function(z){return z.webpackPolyfill||(z.deprecate=function(){},z.paths=[],!z.children&&(z.children=[]),Object.defineProperty(z,'loaded',{enumerable:!0,get:function(){return z.l}}),Object.defineProperty(z,'id',{enumerable:!0,get:function(){return z.i}}),z.webpackPolyfill=1),z}}])});
//# sourceMappingURL=bundle.prod.js.map