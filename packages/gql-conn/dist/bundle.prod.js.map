{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ba0dfb341fa2d500b76a","webpack:///./src/connection.js","webpack:///./~/@tecla5/token-foundation/dist/bundle.prod.js","webpack:///./src/index.js"],"names":[],"mappings":"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","file":"bundle.prod.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easyGqlAuth\"] = factory();\n\telse\n\t\troot[\"easyGqlAuth\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ba0dfb341fa2d500b76a","import {\n  Configurable\n} from '@tecla5/token-foundation'\n\nexport class GraphQLConnection extends Configurable {\n  constructor(config = {}, opts = {}) {\n    super(config, opts)\n    let gqlServer = config.gqlServer\n    gqlServer.endpoint = gqlServer.endpoint || gqlServer.connection.uri\n    this.config.gqlServer = gqlServer\n    this.validateConnection()\n  }\n\n  validateConnection() {\n    if (typeof this.store !== 'object') {\n      this.configError('missing store for holding signinToken from GraphQL server')\n    }\n\n    if (typeof this.keyNames !== 'object') {\n      this.configError('missing keyNames object, used to indicate store token keys')\n    }\n  }\n\n  get defaultHeaders() {\n    return null\n  }\n\n  setJwtToken(signinToken, opts = {}) {\n    this.log('setJwtToken not yet implemented on GraphQL server Connection :(', {\n      signinToken\n    })\n  }\n\n  get authTokenKeyName() {\n    return this.keyNames.gqlServerTokenKeyName\n  }\n\n  get authToken() {\n    return this.store.getItem(this.authTokenKeyName) || null\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/connection.js","(function(b,c){'object'==typeof exports&&'object'==typeof module?module.exports=c():'function'==typeof define&&define.amd?define([],c):'object'==typeof exports?exports.tokenFoundation=c():b.tokenFoundation=c()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(d){return d},b.d=function(d,e,f){b.o(d,e)||Object.defineProperty(d,e,{configurable:!1,enumerable:!0,get:f})},b.n=function(d){var e=d&&d.__esModule?function(){return d['default']}:function(){return d};return b.d(e,'a',e),e},b.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)},b.p='',b(b.s=4)}([function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default={auth0IdTokenKeyName:'auth0Token',gqlServerTokenStorageKey:'graphCoolToken'}},function(a,b,c){'use strict';function d(l,m){if(!(l instanceof m))throw new TypeError('Cannot call a class as a function')}function e(l,m){if(!l)throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');return m&&('object'==typeof m||'function'==typeof m)?m:l}function f(l,m){if('function'!=typeof m&&null!==m)throw new TypeError('Super expression must either be null or a function, not '+typeof m);l.prototype=Object.create(m&&m.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(l,m):l.__proto__=m)}Object.defineProperty(b,'__esModule',{value:!0}),b.Store=void 0;var h=function(){function l(m,n){for(var p,o=0;o<n.length;o++)p=n[o],p.enumerable=p.enumerable||!1,p.configurable=!0,'value'in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}return function(m,n,o){return n&&l(m.prototype,n),o&&l(m,o),m}}();b.createStore=function(l){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new k(l,m)};var j=c(2),k=b.Store=function(l){function m(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,m);var p=e(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,'Store',o));return p.log('create',{keyNames:n,opts:o}),p.keyNames=n.storage||n,p.storage=o.storage||o.keyStore||window.localStorage,p.auth0IdTokenKeyName=p.keyNames.auth0IdTokenKeyName,p.gqlServerTokenKeyName=p.keyNames.gqlServerTokenKeyName,p}return f(m,l),h(m,[{key:'removeItem',value:function(o){this.storage.removeItem(o)}},{key:'getItem',value:function(o){return this.storage.getItem(o)}},{key:'setItem',value:function(o,p){this.storage.setItem(o,p)}},{key:'validateKeyNames',value:function(){for(var o=this,p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];q.map(function(s){return o.validateKeyName(s)})}},{key:'validateKeyName',value:function(o){return'string'!=typeof this.keyNames[o]&&this.error('keyNames missing '+o),this}},{key:'error',value:function(o){console.error(o)}},{key:'resetAll',value:function(){this.removeItem(this.auth0TokenKeyName),this.removeItem(this.gqlServerTokenKeyName)}},{key:'getAll',value:function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{auth0Token:this.getItem(this.auth0IdTokenKeyName),gqlServerToken:this.getItem(this.gqlServerTokenKeyName)}}},{key:'store',value:function(o,p){2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(0>this.keyNames.indexOf(o))throw Error('keyname mismatch for store: '+o);this.setItem(o,p)}}]),m}(j.Loggable)},function(a,b){'use strict';function d(g,h){if(!(g instanceof h))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e=function(){function g(h,j){for(var l,k=0;k<j.length;k++)l=j[k],l.enumerable=l.enumerable||!1,l.configurable=!0,'value'in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}return function(h,j,k){return j&&g(h.prototype,j),k&&g(h,k),h}}(),f=b.Loggable=function(){function g(h){var j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,g),this.io=j.io||console,this.logging=j.logging,this.name=h||j.name}return e(g,[{key:'enableLog',value:function(){return this.logging=!0,this}},{key:'disableLog',value:function(){return this.logging=!1,this}},{key:'log',value:function(){if(this.logging){for(var j,k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];(j=this.io).log.apply(j,[this.name].concat(l))}}},{key:'error',value:function(){if(this.logging){for(var j,k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];(j=this.io).error.apply(j,[this.name].concat(l))}}}]),g}()},function(a,b,c){'use strict';function e(p,q){if(!(p instanceof q))throw new TypeError('Cannot call a class as a function')}function f(p,q){if(!p)throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:p}function g(p,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);p.prototype=Object.create(q&&q.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(p,q):p.__proto__=q)}Object.defineProperty(b,'__esModule',{value:!0}),b.Configurable=void 0;var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&'function'==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?'symbol':typeof p},j=function(){function p(q,r){for(var t,s=0;s<r.length;s++)t=r[s],t.enumerable=t.enumerable||!1,t.configurable=!0,'value'in t&&(t.writable=!0),Object.defineProperty(q,t.key,t)}return function(q,r,s){return r&&p(q.prototype,r),s&&p(q,s),q}}(),k=c(0),l=function(p){return p&&p.__esModule?p:{default:p}}(k),m=c(2),n=c(1),o=b.Configurable=function(p){function q(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e(this,q);var t=f(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,'Configurable',s));t.validate(r);var u=r.keyNames,v=r.store,w=r.storage;return t.config=r,t.observers={},t.config=r,t.storage=w,t.keyNames=u||w||l.default,t.store=v||t.defaultCreateStore(t.keyNames,s),t.tokens=t.store.getAll(),t.tokens=t.store?t.store.getAll():r.tokens,t}return g(q,p),j(q,[{key:'configError',value:function(s){throw this.error(s),Error(s)}},{key:'on',value:function(s,t){this.log('on',s,t);var u=this.observers[s]||[];return this.observers[s]=u.concat(t),this}},{key:'publish',value:function(s,t){this.log('publish',s,t);var u=this.observers[s]||[];return u?u.map(function(v){return v(t)}):this.log('no observers registered for',s),this}},{key:'handleError',value:function(s){throw this.error(s),s}},{key:'defaultCreateStore',value:function(s,t){return new n.Store(s,t)}},{key:'validate',value:function(s){if('object'!==('undefined'==typeof s?'undefined':h(s)))throw Error('config must be an object')}}]),q}(m.Loggable)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(3);Object.defineProperty(b,'Configurable',{enumerable:!0,get:function(){return d.Configurable}});var e=c(0);Object.defineProperty(b,'keyNames',{enumerable:!0,get:function(){return e.keyNames}});var f=c(1);Object.defineProperty(b,'Store',{enumerable:!0,get:function(){return f.Store}}),Object.defineProperty(b,'createStore',{enumerable:!0,get:function(){return f.createStore}})}])});\n//# sourceMappingURL=bundle.prod.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@tecla5/token-foundation/dist/bundle.prod.js\n// module id = 1\n// module chunks = 0","export {\n  GraphQLConnection\n}\nfrom './connection'\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}