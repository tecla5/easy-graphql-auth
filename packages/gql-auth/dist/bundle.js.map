{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4e61f4201e439abcd620","webpack:///./src/graphql-auth.js","webpack:///./src/index.js","webpack:///../gql-conn/dist/bundle.prod.js","webpack:///(webpack)/buildin/module.js"],"names":["createGraphQLAuth","config","GraphQLAuth","opts","createConnection","clientConfig","connection","validateConfig","configError","signinResult","data","signinUser","token","signinToken","store","setItem","gqlServerTokenKeyName","publish","authToken","profile","log","doCreateUser","created","doSigninUser","extractSignedInUserToken","handleReceivedGraphQLServerToken","status","setGraphQLServerToken","setJwtToken","error","err","graphQLErrors","code","errorCode","USER_ALREADY_EXISTS","handleError","variables","name","userData","buildUserData","queries","createUser","doQuery","query","result","fakeCreateUser","handleQueryError","fakeSigninUser","buildSigninUserData","y","z","exports","module","easyGqlAuth","x","A","B","i","l","call","m","c","d","C","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","prototype","hasOwnProperty","p","s","H","I","TypeError","ReferenceError","create","constructor","value","writable","setPrototypeOf","__proto__","GraphQLConnection","D","Symbol","iterator","E","J","L","K","length","key","F","G","arguments","getPrototypeOf","M","gqlServer","endpoint","uri","validateConnection","keyNames","getItem","authTokenKeyName","Configurable","default","auth0IdTokenKeyName","gqlServerTokenStorageKey","Store","N","createStore","storage","keyStore","window","localStorage","removeItem","Array","O","map","P","validateKeyName","console","auth0TokenKeyName","auth0Token","gqlServerToken","indexOf","Error","Loggable","io","logging","apply","concat","Q","R","validate","S","T","U","observers","defaultCreateStore","tokens","getAll"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"gqlAuth\"] = factory();\n\telse\n\t\troot[\"gqlAuth\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4e61f4201e439abcd620","import {\n  GraphQLConnection\n} from '@tecla5/gql-conn'\n\nexport function createGraphQLAuth(config) {\n  return new GraphQLAuth(config)\n}\n\nexport class GraphQLAuth extends GraphQLConnection {\n  constructor(config = {}, opts = {}) {\n    super(config, opts)\n    let {\n      createConnection\n    } = opts.clientConfig\n\n    createConnection = createConnection || opts.createConnection\n\n    this.connection = this.connection || config.connection || opts.connection\n    if (createConnection) {\n      this.connection = this.connection || createConnection(config, opts)\n    }\n    this.validateConfig()\n  }\n\n  validateConfig() {\n    if (!this.connection) {\n      this.configError('missing GraphQL connection in configuration')\n    }\n  }\n\n  extractSignedInUserToken(signinResult) {\n    return signinResult.data.signinUser.token\n  }\n\n  get gqlServerTokenKeyName() {\n    return this.store.gqlServerTokenKeyName\n  }\n\n  setGraphQLServerToken(signinToken) {\n    // set graphcool token in localstorage\n    this.store.setItem(this.gqlServerTokenKeyName, signinToken)\n    this.publish('storedGraphQLServerToken', {\n      signinToken\n    })\n    return this\n  }\n\n  async signin(data) {\n    let {\n      authToken,\n      profile\n    } = data\n    this.log('Signing into GraphQL server');\n    let created = await this.doCreateUser(data)\n    const signinResult = await this.doSigninUser(data)\n    const signinToken = this.extractSignedInUserToken(signinResult)\n    this.handleReceivedGraphQLServerToken(signinToken)\n    return {\n      status: signinResult,\n      token: signinToken,\n    }\n  }\n\n  handleReceivedGraphQLServerToken(signinToken) {\n    this.publish('receivedGraphQLServerToken', {\n      signinToken\n    })\n    this.setGraphQLServerToken(signinToken)\n    this.setJwtToken(signinToken)\n  }\n\n  setJwtToken(signinToken) {\n    if (this.connection) {\n      this.connection.setJwtToken(signinToken, this.opts)\n      this.publish('setJwtToken', {\n        signinToken\n      })\n    } else {\n      this.error('missing connection for setting JWT token')\n    }\n  }\n\n  handleQueryError(err) {\n    if (!err.graphQLErrors ||\n      err.graphQLErrors[0].code !== errorCode.USER_ALREADY_EXISTS\n    ) {\n      this.handleError(err)\n    }\n  }\n\n  buildUserData(data) {\n    let {\n      authToken,\n      profile\n    } = data\n    return {\n      variables: {\n        authToken: authToken,\n        name: profile.name\n      }\n    }\n  }\n\n  async doCreateUser(data) {\n    let {\n      authToken,\n      profile\n    } = data\n    // create user if necessary\n    try {\n      this.log('Create user', name);\n      let userData = this.buildUserData(data)\n      if (this.queries.createUser) {\n        let result = await this.doQuery({\n          query: this.queries.createUser(userData)\n        })\n        publish('createdUserOK', {\n          authToken,\n          userData,\n          profile,\n          result\n        })\n        return result\n      } else {\n        this.log('missing createUser query, faking it')\n        await this.fakeCreateUser(userData)\n      }\n    } catch (error) {\n      publish('createUserFailure', {\n        authToken,\n        userData,\n        profile,\n        result,\n        error\n      })\n      this.handleQueryError(err)\n    }\n  }\n\n  async doQuery({\n    query\n  }) {\n    return await this.connection.doQuery(\n      query, opts)\n  }\n\n  // TODO: simulate GraphCool query mutation result?\n  fakeCreateUser(userData) {\n    return userData\n  }\n\n  buildSigninUserData({\n    authToken,\n    profile\n  }) {\n    return {\n      variables: {\n        authToken: authToken\n      }\n    }\n  }\n\n  // sign in user\n  async doSigninUser(data) {\n    let {\n      authToken,\n      profile\n    } = data\n    this.log('signin user', data);\n    if (!this.queries.signinUser) {\n      return this.fakeSigninUser(profile)\n    }\n    let userData = this.buildSigninUserData(data)\n    try {\n      let result = await this.doQuery({\n        query: this.queries.signinUser(userData)\n      })\n      this.publish('signedInOK', {\n        authToken,\n        profile,\n        userData,\n        result\n      })\n      return result\n    } catch (error) {\n      this.publish('signedInFailure', {\n        authToken,\n        profile,\n        userData,\n        error,\n      })\n      this.handleQueryError(error)\n    }\n  }\n\n  fakeSigninUser(profile) {\n    this.log('returning fake signedinUser')\n    return {\n      data: {\n        signinUser: {\n          token: '1234'\n        }\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/graphql-auth.js","export {\n  GraphQLAuth\n}\nfrom './graphql-auth'\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","(function(y,z){'object'==typeof exports&&'object'==typeof module?module.exports=z():'function'==typeof define&&define.amd?define([],z):'object'==typeof exports?exports.easyGqlAuth=z():y.easyGqlAuth=z()})(this,function(){return function(x){function y(A){if(z[A])return z[A].exports;var B=z[A]={i:A,l:!1,exports:{}};return x[A].call(B.exports,B,B.exports,y),B.l=!0,B.exports}var z={};return y.m=x,y.c=z,y.i=function(A){return A},y.d=function(A,B,C){y.o(A,B)||Object.defineProperty(A,B,{configurable:!1,enumerable:!0,get:C})},y.n=function(A){var B=A&&A.__esModule?function(){return A['default']}:function(){return A};return y.d(B,'a',B),B},y.o=function(A,B){return Object.prototype.hasOwnProperty.call(A,B)},y.p='',y(y.s=2)}([function(x,y,z){'use strict';function A(H,I){if(!(H instanceof I))throw new TypeError('Cannot call a class as a function')}function B(H,I){if(!H)throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:H}function C(H,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);H.prototype=Object.create(I&&I.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(H,I):H.__proto__=I)}Object.defineProperty(y,'__esModule',{value:!0}),y.GraphQLConnection=void 0;var D='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&'function'==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?'symbol':typeof H},E=function(){function H(I,J){for(var L,K=0;K<J.length;K++)L=J[K],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}return function(I,J,K){return J&&H(I.prototype,J),K&&H(I,K),I}}(),F=z(1),G=y.GraphQLConnection=function(H){function I(){var J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};A(this,I);var L=B(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,J,K)),M=J.gqlServer;return M.endpoint=M.endpoint||M.connection.uri,L.config.gqlServer=M,L.validateConnection(),L}return C(I,H),E(I,[{key:'validateConnection',value:function(){'object'!==D(this.store)&&this.configError('missing store for holding signinToken from GraphQL server'),'object'!==D(this.keyNames)&&this.configError('missing keyNames object, used to indicate store token keys')}},{key:'setJwtToken',value:function(K){1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.log('setJwtToken not yet implemented on GraphQL server Connection :(',{signinToken:K})}},{key:'defaultHeaders',get:function(){return null}},{key:'authTokenKeyName',get:function(){return this.keyNames.gqlServerTokenKeyName}},{key:'authToken',get:function(){return this.store.getItem(this.authTokenKeyName)||null}}]),I}(F.Configurable)},function(x,y){(function(A,B){x.exports=B()})(this,function(){return function(A){function B(D){if(C[D])return C[D].exports;var E=C[D]={i:D,l:!1,exports:{}};return A[D].call(E.exports,E,E.exports,B),E.l=!0,E.exports}var C={};return B.m=A,B.c=C,B.i=function(D){return D},B.d=function(D,E,F){B.o(D,E)||Object.defineProperty(D,E,{configurable:!1,enumerable:!0,get:F})},B.n=function(D){var E=D&&D.__esModule?function(){return D['default']}:function(){return D};return B.d(E,'a',E),E},B.o=function(D,E){return Object.prototype.hasOwnProperty.call(D,E)},B.p='',B(B.s=4)}([function(A,B){'use strict';Object.defineProperty(B,'__esModule',{value:!0}),B.default={auth0IdTokenKeyName:'auth0Token',gqlServerTokenStorageKey:'graphCoolToken'}},function(A,B,C){'use strict';function D(J,K){if(!(J instanceof K))throw new TypeError('Cannot call a class as a function')}function E(J,K){if(!J)throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:J}function F(J,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);J.prototype=Object.create(K&&K.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(J,K):J.__proto__=K)}Object.defineProperty(B,'__esModule',{value:!0}),B.Store=void 0;var G=function(){function J(K,L){for(var M,N=0;N<L.length;N++)M=L[N],M.enumerable=M.enumerable||!1,M.configurable=!0,'value'in M&&(M.writable=!0),Object.defineProperty(K,M.key,M)}return function(K,L,M){return L&&J(K.prototype,L),M&&J(K,M),K}}();B.createStore=function(J){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new I(J,K)};var H=C(2),I=B.Store=function(J){function K(L){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};D(this,K);var N=E(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,'Store',M));return N.log('create',{keyNames:L,opts:M}),N.keyNames=L.storage||L,N.storage=M.storage||M.keyStore||window.localStorage,N.auth0IdTokenKeyName=N.keyNames.auth0IdTokenKeyName,N.gqlServerTokenKeyName=N.keyNames.gqlServerTokenKeyName,N}return F(K,J),G(K,[{key:'removeItem',value:function(L){this.storage.removeItem(L)}},{key:'getItem',value:function(L){return this.storage.getItem(L)}},{key:'setItem',value:function(L,M){this.storage.setItem(L,M)}},{key:'validateKeyNames',value:function(){for(var L=this,M=arguments.length,N=Array(M),O=0;O<M;O++)N[O]=arguments[O];N.map(function(P){return L.validateKeyName(P)})}},{key:'validateKeyName',value:function(L){return'string'!=typeof this.keyNames[L]&&this.error('keyNames missing '+L),this}},{key:'error',value:function(L){console.error(L)}},{key:'resetAll',value:function(){this.removeItem(this.auth0TokenKeyName),this.removeItem(this.gqlServerTokenKeyName)}},{key:'getAll',value:function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{auth0Token:this.getItem(this.auth0IdTokenKeyName),gqlServerToken:this.getItem(this.gqlServerTokenKeyName)}}},{key:'store',value:function(L,M){if(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},0>this.keyNames.indexOf(L))throw Error('keyname mismatch for store: '+L);this.setItem(L,M)}}]),K}(H.Loggable)},function(A,B){'use strict';function C(F,G){if(!(F instanceof G))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(B,'__esModule',{value:!0});var D=function(){function F(G,H){for(var I,J=0;J<H.length;J++)I=H[J],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(G,I.key,I)}return function(G,H,I){return H&&F(G.prototype,H),I&&F(G,I),G}}(),E=B.Loggable=function(){function F(G){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};C(this,F),this.io=H.io||console,this.logging=H.logging,this.name=G||H.name}return D(F,[{key:'enableLog',value:function(){return this.logging=!0,this}},{key:'disableLog',value:function(){return this.logging=!1,this}},{key:'log',value:function(){if(this.logging){for(var G,H=arguments.length,I=Array(H),J=0;J<H;J++)I[J]=arguments[J];(G=this.io).log.apply(G,[this.name].concat(I))}}},{key:'error',value:function(){if(this.logging){for(var G,H=arguments.length,I=Array(H),J=0;J<H;J++)I[J]=arguments[J];(G=this.io).error.apply(G,[this.name].concat(I))}}}]),F}()},function(A,B,C){'use strict';function D(N,O){if(!(N instanceof O))throw new TypeError('Cannot call a class as a function')}function E(N,O){if(!N)throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');return O&&('object'==typeof O||'function'==typeof O)?O:N}function F(N,O){if('function'!=typeof O&&null!==O)throw new TypeError('Super expression must either be null or a function, not '+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}Object.defineProperty(B,'__esModule',{value:!0}),B.Configurable=void 0;var G='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&'function'==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?'symbol':typeof N},H=function(){function N(O,P){for(var Q,R=0;R<P.length;R++)Q=P[R],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty(O,Q.key,Q)}return function(O,P,Q){return P&&N(O.prototype,P),Q&&N(O,Q),O}}(),I=C(0),J=function(N){return N&&N.__esModule?N:{default:N}}(I),K=C(2),L=C(1),M=B.Configurable=function(N){function O(){var P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};D(this,O);var R=E(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,'Configurable',Q));R.validate(P);var S=P.keyNames,T=P.store,U=P.storage;return R.config=P,R.observers={},R.config=P,R.storage=U,R.keyNames=S||U||J.default,R.store=T||R.defaultCreateStore(R.keyNames,Q),R.tokens=R.store.getAll(),R.tokens=R.store?R.store.getAll():P.tokens,R}return F(O,N),H(O,[{key:'configError',value:function(P){throw this.error(P),Error(P)}},{key:'on',value:function(P,Q){this.log('on',P,Q);var R=this.observers[P]||[];return this.observers[P]=R.concat(Q),this}},{key:'publish',value:function(P,Q){this.log('publish',P,Q);var R=this.observers[P]||[];return R?R.map(function(S){return S(Q)}):this.log('no observers registered for',P),this}},{key:'handleError',value:function(P){throw this.error(P),P}},{key:'defaultCreateStore',value:function(P,Q){return new L.Store(P,Q)}},{key:'validate',value:function(P){if('object'!==('undefined'==typeof P?'undefined':G(P)))throw Error('config must be an object')}}]),O}(K.Loggable)},function(A,B,C){'use strict';Object.defineProperty(B,'__esModule',{value:!0});var D=C(3);Object.defineProperty(B,'Configurable',{enumerable:!0,get:function(){return D.Configurable}});var E=C(0);Object.defineProperty(B,'keyNames',{enumerable:!0,get:function(){return E.keyNames}});var F=C(1);Object.defineProperty(B,'Store',{enumerable:!0,get:function(){return F.Store}}),Object.defineProperty(B,'createStore',{enumerable:!0,get:function(){return F.createStore}})}])})},function(x,y,z){'use strict';Object.defineProperty(y,'__esModule',{value:!0});var A=z(0);Object.defineProperty(y,'GraphQLConnection',{enumerable:!0,get:function(){return A.GraphQLConnection}})}])});\n//# sourceMappingURL=bundle.prod.js.map\n\n\n// WEBPACK FOOTER //\n// ../gql-conn/dist/bundle.prod.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}